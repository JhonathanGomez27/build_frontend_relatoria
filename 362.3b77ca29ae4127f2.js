"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[362],{2362:(ve,q,r)=>{r.r(q),r.d(q,{default:()=>he});var c=r(6814),f=r(617),p=r(2296),h=r(8109),A=r(8645),d=r(9773),e=r(9212),P=r(6593),g=r(1474),Z=r(553),x=r(5619),b=r(9397);let m=(()=>{class n{constructor(){this.url=Z.N.url,this.limit=Z.N.pagination,this._httpCliente=(0,e.f3M)(g.eN),this._tipos_comisiones=new x.X(null),this._comisiones=new x.X(null),this._sesiones=new x.X(null),this._audiencia=new x.X(null),this._transcripcion=new x.X(null)}set sesiones(i){this._sesiones.next(i)}set transcripcion(i){this._transcripcion.next(i)}get tipos_comisiones$(){return this._tipos_comisiones.asObservable()}get comisiones$(){return this._comisiones.asObservable()}get sesiones$(){return this._sesiones.asObservable()}get audiencia$(){return this._audiencia.asObservable()}get transcripcion$(){return this._transcripcion.asObservable()}getAllTiposComisiones(){return this._httpCliente.get(`${this.url}tipos-comision/find-all`).pipe((0,b.b)(i=>{this._tipos_comisiones.next(i)}))}getComisionesPorTipo(i){return this._httpCliente.get(`${this.url}comisiones/find-by-tipo-comision/${i}`).pipe((0,b.b)(s=>{this._tipos_comisiones.next(s)}))}getSesionesPorComision(i,s){let t=new g.LE;return t=t.set("page",s),t=t.set("limit",this.limit),this._httpCliente.post(`${this.url}comisiones/getSesionesPorComision/${i}`,{filtroOrdenamiendo:{campo:"nombre",direccion:"ASC"}},{params:t}).pipe((0,b.b)(a=>{this._sesiones.next(a)}))}getSesionesPorComisionPaginated(i,s,t){let o=new g.LE;return o=o.set("page",s),o=o.set("limit",this.limit),this._httpCliente.post(`${this.url}comisiones/getSesionesPorComision/${i}`,t,{params:o})}getAudienciasPorSesionBusqueda(i,s){let t=new g.LE;return t=t.set("page",s),t=t.set("limit",this.limit),i.filtroOrdenamiendo=void 0,this._httpCliente.post(`${this.url}comisiones/buscarEnUnaComision`,i,{params:t}).pipe((0,b.b)(a=>{this._sesiones.next(a)}))}getAudienciasPorSesionBusquedaPaginated(i,s){console.log(s,i);let t=new g.LE;return t=t.set("page",s),t=t.set("limit",this.limit),this._httpCliente.post(`${this.url}comisiones/buscarEnUnaComision`,i,{params:t})}getDataAdienciaSesion(i){return this._httpCliente.get(`${this.url}sesiones/byId/${i}`).pipe((0,b.b)(s=>{this._audiencia.next(s)}))}getTranscripcionAudiencia(i,s){let t=new g.LE;return t=t.set("page",s),t=t.set("limit",this.limit),this._httpCliente.get(`${this.url}sesiones/obtenerTranscripciones/${i}`,{params:t}).pipe((0,b.b)(o=>{this._transcripcion.next(o)}))}getTranscripcionAudienciaPaginated(i,s){let t=new g.LE;return t=t.set("page",s),t=t.set("limit",this.limit),this._httpCliente.get(`${this.url}sesiones/obtenerTranscripciones/${i}`,{params:t})}buscarEnAudiencia(i,s,t){let o=new g.LE;return o=o.set("page",t),o=o.set("limit",this.limit),this._httpCliente.post(`${this.url}sesiones/buscarEnUnaSesion/${i}`,s,{params:o}).pipe((0,b.b)(a=>{this._transcripcion.next(a)}))}buscarEnAudienciaPaginated(i,s,t){let o=new g.LE;return o=o.set("page",t),o=o.set("limit",this.limit),this._httpCliente.post(`${this.url}sesiones/buscarEnUnaSesion/${i}`,s,{params:o})}static#e=this.\u0275fac=function(s){return new(s||n)};static#i=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const R=n=>["./",n];function F(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"img",15),e.qZA(),e.TgZ(4,"div",16)(5,"div"),e._UZ(6,"mat-icon",17),e.qZA(),e.TgZ(7,"div",18),e._uU(8),e.qZA()()(),e.BQk()),2&n){const i=l.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,R,i.id)),e.xp6(5),e.Q6J("color","primary"),e.xp6(2),e.hij(" ",i.title," ")}}let E=(()=>{class n{constructor(i,s,t){this.titleService=i,this.inicioPortalService=s,this._changeDetectorRef=t,this._unsubscribeAll=new A.x,this.tipos_comisiones=[],this.titleService.setTitle("Relator\xeda | Inicio Portal")}ngOnInit(){this.inicioPortalService.tipos_comisiones$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.tipos_comisiones=i.data,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(P.Dx),e.Y36(m),e.Y36(e.sBO))};static#i=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-inicio-portal"]],standalone:!0,features:[e.jDz],decls:20,vars:3,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto","bg-white"],[1,"flex-auto","p-6","sm:px-26","sm:py-10"],[1,"min-h-100"],[1,"flex","flex-col","items-start","mb-6","w-full","p-4","bg-gradient-to-r","from-white","from-60%","to-primary-200","rounded-md"],[1,"text-4xl","font-semibold","text-primary-700"],[1,"text-4xl","font-medium","text-primary"],[1,"flex","flex-col","items-start","mb-6","w-full","p-4"],[1,"text-lg","font-medium","leading-relaxed","text-black","text-justify"],[1,"w-full","flex","justify-end","gap-3"],["mat-button","",1,"text-primary-700","text-lg","hover:bg-primary-100"],[1,"text-primary-700",3,"svgIcon"],[1,"w-full","grid","grid-cols-2","lg:grid-cols-4","md:grid-cols-3","gap-3","mt-7"],[4,"ngFor","ngForOf"],["routerLinkActive","router-link-active",1,"w-full","shadow-lg","rounded-md","hover:shadow-2xl","cursor-pointer",3,"routerLink"],[1,"w-full","flex","justify-center"],["src","https://caracoltv.brightspotcdn.com/dims4/default/127cf1d/2147483647/strip/true/crop/1000x716+0+0/resize/1000x716!/quality/90/?url=http%3A%2F%2Fcaracol-brightspot.s3.us-west-2.amazonaws.com%2F1f%2Fba%2Fa0830803495fb74592243100ca4a%2Fsalon-eliptico.jpg","alt","",1,"h-40","w-full","rounded-t-md"],[1,"w-full","flex","items-center","h-20","px-4"],["svgIcon","heroicons_outline:building-library",3,"color"],[1,"w-full","text-center","justify-center","text-primary-600","font-bold","text-lg"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5,"Portal de Relator\xeda"),e.qZA(),e.TgZ(6,"h3",5),e._uU(7,"CAMARA DE REPRESENTANTES"),e.qZA()(),e.TgZ(8,"div",6)(9,"p",7),e._uU(10,"El Portal de Relator\xeda es una plataforma encaminada a presentar y gestionar la informaci\xf3n de las diferentes sesiones de la C\xe1mara de Representantes, las cuales son: Plenarias, Comisiones Constitucionales, Comisiones Legales y Comisiones Especiales. Las funciones que permite la Plataforma para cada una de estas sesiones son: reproducci\xf3n de audio y video, visualizaci\xf3n de la transcripci\xf3n y descarga de la sesi\xf3n en los formatos Word, PDF, audio y video. Adicionalmente la plataforma permite realizar b\xfasquedas avanzadas de cualquier informaci\xf3n que se requiera en el texto de transcripci\xf3n de las diferentes sesiones. "),e.qZA()(),e.TgZ(11,"div",8)(12,"button",9),e._UZ(13,"mat-icon",10),e._uU(14," \xa0 Manual de usuario "),e.qZA(),e.TgZ(15,"button",9),e._UZ(16,"mat-icon",10),e._uU(17," \xa0 Offline "),e.qZA()(),e.TgZ(18,"div",11),e.YNc(19,F,9,5,"ng-container",12),e.qZA()()()()),2&s&&(e.xp6(13),e.Q6J("svgIcon","heroicons_solid:book-open"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:inbox-arrow-down"),e.xp6(3),e.Q6J("ngForOf",t.tipos_comisiones))},dependencies:[c.ez,c.sg,f.Ps,f.Hw,p.ot,p.lW,h.rH],encapsulation:2})}return n})();const D=n=>["./",n];function N(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"mat-icon",15),e.qZA(),e.TgZ(4,"div",16)(5,"h3",17),e._uU(6),e.qZA()(),e.TgZ(7,"div",16)(8,"p",18),e._uU(9),e.qZA()(),e.TgZ(10,"div",19)(11,"div")(12,"p",20),e._uU(13,"Presidente:"),e.qZA(),e.TgZ(14,"p",21),e._uU(15),e.qZA()(),e.TgZ(16,"div")(17,"p",20),e._uU(18,"Vicepresidente:"),e.qZA(),e.TgZ(19,"p",21),e._uU(20),e.qZA()(),e.TgZ(21,"div")(22,"p",20),e._uU(23,"Secretario:"),e.qZA(),e.TgZ(24,"p",21),e._uU(25),e.qZA()(),e.TgZ(26,"div")(27,"p",20),e._uU(28,"Subsecretario:"),e.qZA(),e.TgZ(29,"p",21),e._uU(30),e.qZA()()(),e._UZ(31,"div",22),e.TgZ(32,"div",23)(33,"button",24),e._uU(34," Entrar "),e.qZA()()(),e.BQk()),2&n){const i=l.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(9,D,i.id)),e.xp6(2),e.Q6J("color","primary"),e.xp6(3),e.Oqu(i.title),e.xp6(3),e.Oqu(i.theme),e.xp6(6),e.Oqu(i.presidente),e.xp6(5),e.Oqu(i.vicepresidente),e.xp6(5),e.Oqu(i.secretario),e.xp6(5),e.Oqu(i.subsecretario),e.xp6(3),e.Q6J("color","primary")}}const J=()=>["/inicio-portal"];let Q=(()=>{class n{constructor(i,s,t,o){this.titleService=i,this._activatedRoute=s,this._inicioPortalService=t,this._changeDetectorRef=o,this._unsubscribeAll=new A.x,this.titles={general:"Plenarias del sal\xf3n el\xedptico",legales:"Comisiones legales",constitucionales:"Comisiones constitucionales",especiales:"Comisiones especiales"},this.title="",this.tipo_comision={},this.comisiones=[]}ngOnInit(){this._inicioPortalService.tipos_comisiones$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.tipo_comision=i.tipoComision,this.comisiones=i.data,this._changeDetectorRef.markForCheck()}),this.title=this.tipo_comision.title,this.titleService.setTitle(`Relator\xeda | ${this.title}`)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(P.Dx),e.Y36(h.gz),e.Y36(m),e.Y36(e.sBO))};static#i=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-ver-comision"]],standalone:!0,features:[e.jDz],decls:16,vars:6,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto","bg-white"],[1,"flex-auto","p-6","sm:px-26","sm:py-10"],[1,"min-h-100"],[1,"flex","flex-wrap","items-center","font-medium","mb-2"],[1,"whitespace-nowrap","text-primary-500","text-lg",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap","text-lg"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-700"],[1,"w-full","flex","items-start","mt-5"],[1,"text-4xl","font-semibold","text-primary-500"],[1,"w-full"],[1,"w-full","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-3","mt-7"],[4,"ngFor","ngForOf"],["routerLinkActive","router-link-active",1,"w-full","p-6","rounded-md","shadow-xl","hover:shadow-2xl","cursor-pointer","flex","flex-col","justify-center","hover:bg-slate-100",3,"routerLink"],[1,"w-full","flex","items-start"],["svgIcon","heroicons_outline:building-library",1,"icon-size-12",3,"color"],[1,"mt-2"],[1,"text-2xl","font-semibold","text-black"],[1,"text-xl","font-normal","leading-relaxed","text-black"],[1,"mt-2","p-2"],[1,"text-lg","font-semibold","text-black"],[1,"text-lg","font-normal","text-black"],[1,"p-0.5","bg-primary"],[1,"w-full","flex","items-start","mt-2"],["mat-button","",1,"rounded-md","border-solid","border-2","border-primary","hover:bg-primary","hover:text-white",3,"color"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._uU(5,"Comisiones"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"mat-icon",6),e.TgZ(8,"a",7),e._uU(9),e.qZA()()(),e.TgZ(10,"div",8)(11,"h2",9),e._uU(12),e.qZA()(),e.TgZ(13,"div",10)(14,"div",11),e.YNc(15,N,35,11,"ng-container",12),e.qZA()()()()()),2&s&&(e.xp6(4),e.Q6J("routerLink",e.DdM(5,J)),e.xp6(3),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(2),e.Oqu(t.title),e.xp6(3),e.Oqu(t.title),e.xp6(3),e.Q6J("ngForOf",t.comisiones))},dependencies:[c.ez,c.sg,h.rH,f.Ps,f.Hw,p.ot,p.lW],encapsulation:2})}return n})();var C=r(2651),U=r(3680),T=r(4516),_=r(4170),k=r(3620),M=r(5986),B=r(7466),u=r(6223),L=r(8034),z=r(8525),y=r(7988),w=r(1476),V=r(5940),$=r(9236);const Y=["audioPlayer"];function j(n,l){if(1&n&&e._UZ(0,"source",41),2&n){const i=e.oxw();e.Q6J("src",i.audioUrl,e.LSH)}}function H(n,l){1&n&&e._UZ(0,"mat-icon",58)}function X(n,l){1&n&&e._UZ(0,"mat-icon",59)}function W(n,l){if(1&n&&(e.TgZ(0,"div",60)(1,"h2",61),e._uU(2,"Coincidencias: "),e.TgZ(3,"span",62),e._uU(4),e.qZA()()()),2&n){const i=e.oxw().$implicit;e.xp6(4),e.Oqu(i.coincidencias)}}const K=n=>["./",n];function G(n,l){if(1&n){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",42)(2,"div",34)(3,"button",43),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.iniciarAudio(o.sesion.nombre,o.sesion))}),e.YNc(4,H,1,0,"mat-icon",44)(5,X,1,0,"mat-icon",45),e.qZA()(),e.TgZ(6,"div",46)(7,"div",47)(8,"h1",48),e._uU(9),e.qZA(),e.TgZ(10,"button",49),e._UZ(11,"mat-icon",50),e.qZA()(),e._UZ(12,"div",51),e.TgZ(13,"div",52)(14,"div")(15,"p",53)(16,"span",54),e._uU(17,"Fecha:"),e.qZA(),e._uU(18," Mayo 16, 2024"),e.qZA()(),e.TgZ(19,"div")(20,"p",53)(21,"span",54),e._uU(22,"Hora:"),e.qZA(),e._uU(23," 9:00 am"),e.qZA()(),e.TgZ(24,"div",55)(25,"p",53)(26,"span",54),e._uU(27,"Duracion:"),e.qZA(),e._uU(28," 00:00"),e.qZA()(),e.TgZ(29,"div")(30,"button",56),e._uU(31," Detalles "),e.qZA()()(),e.YNc(32,W,5,1,"div",57),e.qZA()(),e.BQk()}if(2&n){const i=l.$implicit,s=e.oxw();e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("ngIf",s.sesionPresionada!==i.sesion.clavePrincipal),e.xp6(1),e.Q6J("ngIf",s.sesionPresionada===i.sesion.clavePrincipal),e.xp6(4),e.Oqu(i.sesion.nombre),e.xp6(1),e.Q6J("color","primary"),e.xp6(20),e.Q6J("routerLink",e.VKq(7,K,i.sesion.clavePrincipal)),e.xp6(2),e.Q6J("ngIf",i.coincidencias)}}const ee=()=>["../"];let ie=(()=>{class n{constructor(i,s,t,o,a,v,S,ge,fe){this.titleService=i,this.location=s,this._changeDetectorRef=t,this._fuseMediaWatcherService=o,this._adapter=a,this._formBuilder=v,this.router=S,this.activatedRoute=ge,this._inicioPortalService=fe,this.drawerMode="side",this.drawerOpened=!0,this.debounce=1500,this._unsubscribeAll=new A.x,this.totalResultados=0,this.buscar=!1,this.searchControl=new u.p4(""),this.resultados=[],this.comision={},this.page=0,this.limit=Z.N.pagination,this.initial="init",this.sortFilter="Alfabeticamente: Ascendente",this.criterio="nombre",this.orden="ASC",this.audioUrl="",this.loadAudio=!1,this.sesionPresionada=null}ngOnInit(){this.myScriptElement=this.audioPlayer.nativeElement,this._inicioPortalService.sesiones$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.resultados=i.resultados,this.totalResultados=i.total,this.comision=i.comision,this.titleService.setTitle(`Relator\xeda | ${this.comision.title}`),this._changeDetectorRef.markForCheck()}),this.activatedRoute.queryParams.subscribe(i=>{i.page?this.page=parseInt(i.page)-1:(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:"1"}}),this.page=0),i.busqueda&&"init"===this.initial&&(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:i.busqueda}}),this.searchControl.setValue(i.busqueda))}),this.initial="fin",this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(({matchingAliases:i})=>{i.includes("md")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()}),this.searchControl.valueChanges.pipe((0,k.b)(this.debounce),(0,d.R)(this._unsubscribeAll)).subscribe(i=>{""!==i?(this.buscar||this.aplicarFiltro(0),this._changeDetectorRef.markForCheck()):(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:null},queryParamsHandling:"merge"}),this.buscar||this.aplicarFiltro(0),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}aplicarFiltro(i){console.log("entra"),this.buscar=!0,this.page=i;let s=this.searchControl.value||"",t=i+1;""===s?"fin"===this.initial?this.obtenerSesionesPaginated(t):this.buscar=!1:this.obtenerSesionesBusqueda(t,{palabraClave:s,comisionId:this.comision.id})}obtenerSesionesBusqueda(i,s){s.filtroOrdenamiendo={campo:this.criterio,direccion:this.orden},this._inicioPortalService.getAudienciasPorSesionBusqueda(s,i).pipe((0,d.R)(this._unsubscribeAll)).subscribe(o=>{this._inicioPortalService.sesiones=o,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:s.palabraClave},queryParamsHandling:"merge"}),this.buscar=!1,this._changeDetectorRef.markForCheck()},o=>{this.buscar=!1,this._changeDetectorRef.markForCheck()})}obtenerSesionesPaginated(i){this._inicioPortalService.getSesionesPorComisionPaginated(this.comision.id,i,{filtroOrdenamiendo:{campo:this.criterio,direccion:this.orden}}).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this._inicioPortalService.sesiones=t,this.buscar=!1,this._changeDetectorRef.markForCheck()},t=>{this.buscar=!1,this._changeDetectorRef.markForCheck()})}sortByOnChange(i,s,t){this.buscar||(this.sortFilter=i,this.criterio=s,this.orden=t,this.aplicarFiltro(0))}handlePageEnvent(i){this.aplicarFiltro(i.pageIndex)}iniciarAudio(i,s){if(this.loadAudio)this.sesionPresionada=null,this.myScriptElement.pause(),this.myScriptElement.currentTime=0,this.loadAudio=!1,this._changeDetectorRef.markForCheck();else{this.sesionPresionada=s.clavePrincipal;const t=i.replace(/ /g,"_");this.audioUrl=`./assets/prueba/${t}.wav`,this.loadAudio=!0,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.myScriptElement.play()},200)}}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(P.Dx),e.Y36(c.Ye),e.Y36(e.sBO),e.Y36($.T),e.Y36(U._A),e.Y36(u.QS),e.Y36(h.F0),e.Y36(h.gz),e.Y36(m))};static#i=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-ver-sesion"]],viewQuery:function(s,t){if(1&s&&e.Gf(Y,7),2&s){let o;e.iGM(o=e.CRH())&&(t.audioPlayer=o.first)}},standalone:!0,features:[e.jDz],decls:76,vars:27,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"p-6","bg-white","w-full","flex","justify-between"],[1,"flex","flex-row","gap-3","items-center"],["mat-flat-button","",1,"cursor-pointer","p-2","flex","items-center","rounded-none","bg-gray-100",3,"routerLink"],[1,"text-current","icon-size-4","mr-2",3,"svgIcon"],[1,"flex","items-center","md:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex-auto","h-full"],[1,"w-80","dark:bg-gray-900",3,"autoFocus","mode","opened"],["matDrawer",""],[1,"w-full","px-8"],[1,""],["svgIcon","heroicons_outline:building-library",1,"icon-size-10",3,"color"],[1,"w-full","text-left","justify-center","text-black","font-bold","text-xl","mt-2"],[1,"w-full","text-left","justify-center","text-black","font-medium","text-lg","mt-2"],[1,"w-full","text-left","justify-center","text-black","text-lg","mt-2"],[1,"font-semibold","mb-2"],[1,"font-normal"],[1,"w-full","hidden"],["controls","",1,"w-full"],["audioPlayer",""],["type","audio/mpeg",3,"src",4,"ngIf"],[1,"flex","flex-col","bg-white"],[1,"flex-auto","px-6","sm:px-10"],[1,"w-full","mb-4","flex","flex-row","gap-2","items-center"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Realizar b\xfasqueda",3,"formControl"],["mat-button","",1,"sm:inline-flex",3,"matMenuTriggerFor","disabled"],[1,"icon-size-5",3,"svgIcon"],[1,"hidden","sm:inline-block","ml-2"],["orderByMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","items-center"],[1,"flex","w-full","justify-between","mb-5"],[1,"text-secondary","font-normal"],[1,"w-full"],[4,"ngFor","ngForOf"],[1,"w-full","mt-3","flex","justify-end"],[1,"bg-transparent",3,"disabled","length","pageIndex","pageSize","showFirstLastButtons","page"],["type","audio/mpeg",3,"src"],[1,"p-4","border","border-gray-300","rounded-md","flex","flex-row","items-center","gap-3","overflow-hidden","mb-3"],["mat-icon-button","",3,"color","click"],["class","icon-size-12","svgIcon","heroicons_solid:play-circle",4,"ngIf"],["class","icon-size-8","svgIcon","heroicons_solid:pause",4,"ngIf"],[1,"w-full","overflow-hidden"],[1,"w-full","flex","flex-row","items-center","overflow-hidden","justify-between","gap-3"],[1,"text-xl","font-medium","truncate"],["mat-icon-button","",3,"color"],["svgIcon","mat_outline:download_for_offline",1,"icon-size-10"],[1,"border-2","border-primary-600","my-2"],[1,"w-full","flex","flex-row","gap-3","mt-2","items-center","justify-evenly"],[1,"text-md"],[1,"font-semibold"],[1,"hidden","sm:block"],["mat-button","","queryParamsHandling","merge","routerLinkActive","router-link-active",1,"border","border-solid","border-primary-600","text-primary","hover:bg-primary-500","hover:text-white","font-bold",3,"routerLink"],["class","w-full flex justify-end mt-2",4,"ngIf"],["svgIcon","heroicons_solid:play-circle",1,"icon-size-12"],["svgIcon","heroicons_solid:pause",1,"icon-size-8"],[1,"w-full","flex","justify-end","mt-2"],[1,"text-lg","font-semibold"],[1,"font-medium"]],template:function(s,t){if(1&s){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"mat-icon",4),e._uU(5," Volver "),e.qZA()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){e.CHM(o);const v=e.MAs(11);return e.KtG(v.toggle())}),e._UZ(8,"mat-icon",7),e.qZA()()(),e.TgZ(9,"mat-drawer-container",8)(10,"mat-drawer",9,10)(12,"div",11)(13,"div",12),e._UZ(14,"mat-icon",13),e.qZA(),e.TgZ(15,"div",14),e._uU(16),e.qZA(),e.TgZ(17,"div",15),e._uU(18," Mesa Directiva: "),e.qZA(),e.TgZ(19,"div",16)(20,"h2",17),e._uU(21,"Presidente: "),e.TgZ(22,"span",18),e._uU(23),e.qZA()(),e.TgZ(24,"h2",17),e._uU(25,"Vicepresidenta: "),e.TgZ(26,"span",18),e._uU(27),e.qZA()(),e.TgZ(28,"h2",17),e._uU(29,"Secretaria: "),e.TgZ(30,"span",18),e._uU(31),e.qZA()(),e.TgZ(32,"h2",17),e._uU(33,"Subsecretaria: "),e.TgZ(34,"span",18),e._uU(35),e.qZA()()()(),e.TgZ(36,"div",19)(37,"audio",20,21),e.YNc(39,j,1,1,"source",22),e._uU(40," Your browser does not support the audio element. "),e.qZA()()(),e.TgZ(41,"mat-drawer-content",23)(42,"div",24)(43,"div",25)(44,"mat-form-field",26),e._UZ(45,"mat-icon",27)(46,"input",28),e.qZA(),e.TgZ(47,"button",29),e._UZ(48,"mat-icon",30),e.TgZ(49,"span",31),e._uU(50,"Ordenar"),e.qZA()(),e.TgZ(51,"mat-menu",null,32)(53,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Alfabeticamente: Ascendente","nombre","ASC")}),e.TgZ(54,"span",34)(55,"span"),e._uU(56,"Alfabeticamente: Ascendente"),e.qZA()()(),e.TgZ(57,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Alfabeticamente: Descendente","nombre","DESC")}),e.TgZ(58,"span",34)(59,"span"),e._uU(60,"Alfabeticamente: Descendente"),e.qZA()()(),e.TgZ(61,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Mas Recientes","fecha","DESC")}),e.TgZ(62,"span",34)(63,"span"),e._uU(64,"Mas Recientes"),e.qZA()()(),e.TgZ(65,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Mas Antiguos","fecha","ASC")}),e.TgZ(66,"span",34)(67,"span"),e._uU(68,"Mas Antiguos"),e.qZA()()()()(),e.TgZ(69,"div",35)(70,"p",36),e._uU(71),e.qZA()(),e.TgZ(72,"div",37),e.YNc(73,G,33,9,"ng-container",38),e.qZA(),e.TgZ(74,"div",39)(75,"mat-paginator",40),e.NdJ("page",function(v){return t.handlePageEnvent(v)}),e.qZA()()()()()()}if(2&s){const o=e.MAs(52);e.xp6(3),e.Q6J("routerLink",e.DdM(26,ee)),e.xp6(1),e.Q6J("svgIcon","mat_outline:arrow_back_ios"),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:bars-3"),e.xp6(2),e.Q6J("autoFocus",!1)("mode",t.drawerMode)("opened",t.drawerOpened),e.xp6(4),e.Q6J("color","primary"),e.xp6(2),e.hij(" ",t.comision.title," "),e.xp6(7),e.Oqu(t.comision.presidente),e.xp6(4),e.Oqu(t.comision.vicepresidente),e.xp6(4),e.Oqu(t.comision.secretario),e.xp6(4),e.Oqu(t.comision.subsecretario),e.xp6(4),e.Q6J("ngIf",t.loadAudio),e.xp6(5),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",t.searchControl),e.xp6(1),e.Q6J("matMenuTriggerFor",o)("disabled",t.buscar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:bars-arrow-down"),e.xp6(23),e.hij("Ordenado por: ",t.sortFilter,""),e.xp6(2),e.Q6J("ngForOf",t.resultados),e.xp6(2),e.Q6J("disabled",t.buscar)("length",t.totalResultados)("pageIndex",t.page)("pageSize",t.limit)("showFirstLastButtons",!0)}},dependencies:[c.ez,c.sg,c.O5,C.SJ,C.jA,C.kh,C.LW,U.si,f.Ps,f.Hw,p.ot,p.zs,p.lW,p.RK,_.lN,_.KE,_.qo,T.c,T.Nt,M.p9,B.Fk,u.u5,u.Fj,u.JJ,L.FA,z.LD,y.Tx,y.VK,y.OP,y.p6,w.TU,w.NW,h.rH,u.UX,u.oH,V.Cq],encapsulation:2})}return n})();var ae=r(4189),I=r(2596),le=r(5407);const ce=["videoPlayer"],ue=n=>({"bg-zinc-300":n});function de(n,l){if(1&n){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",39),e.NdJ("click",function(){e.CHM(i);const t=e.oxw().$implicit,o=e.oxw();return e.KtG(o.setCurTime(t.minuto))}),e.TgZ(2,"a",40),e._uU(3),e.qZA(),e._UZ(4,"p",41),e.ALo(5,"sanitizeHtml"),e.qZA(),e.BQk()}if(2&n){const i=e.oxw().$implicit,s=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(5,ue,i.clavePrincipal===s.subtituloActual)),e.xp6(2),e.hij("Minuto ",i.minuto,": "),e.xp6(1),e.Q6J("innerHTML",e.lcZ(5,3,s.transformarData(i.textoOriginal)),e.oJD)}}function me(n,l){if(1&n&&(e.ynx(0),e.YNc(1,de,6,7,"ng-container",38),e.BQk()),2&n){const i=l.$implicit;e.xp6(1),e.Q6J("ngIf",""!==i.textoOriginal)}}const pe=()=>["/inicio-portal"],O=()=>["../"],he=[{path:"",component:E,resolve:{tipos_comisiones:()=>(0,e.f3M)(m).getAllTiposComisiones()}},{path:":comision",component:Q,resolve:{comisiones:(n,l)=>{let i=n.paramMap.get("comision");return(0,e.f3M)(m).getComisionesPorTipo(i)}}},{path:":comision/:id",component:ie,resolve:{sesiones:(n,l)=>{let i="",s="1",t="";return n.paramMap.has("id")&&(i=n.paramMap.get("id")),n.queryParamMap.has("page")&&(s=n.queryParamMap.get("page")),n.queryParamMap.has("busqueda")&&(t=n.queryParamMap.get("busqueda")||""),""!==t?(0,e.f3M)(m).getAudienciasPorSesionBusqueda({palabraClave:t,comisionId:i},s):(0,e.f3M)(m).getSesionesPorComision(i,s)}}},{path:":comision/:id/:audiencia",component:(()=>{class n{constructor(i,s,t,o){this.router=i,this.activatedRoute=s,this._changeDetectorRef=t,this._incioPortalService=o,this._unsubscribeAll=new A.x,this.comision={},this.audiencia={},this.subtitulos=[],this.subtituloActual="",this.totalResponse=0,this.page=0,this.totalPages=0,this.disableSubtitulos=!1,this.searchControl=new u.p4,this.debounce=1500,this.loading=!1,this.initital="init",this.videoUrl="",this.audioUrl="",this.limit=Z.N.pagination,this.params={},this.activatedRoute.params.subscribe(a=>{this.params=a})}ngOnInit(){this.myScriptElement=this.videoPlayer.nativeElement,this.activatedRoute.queryParams.subscribe(i=>{i.busqueda&&"init"===this.initital&&this.searchControl.setValue(i.busqueda),this.initital="fin",this._changeDetectorRef.markForCheck()}),this._incioPortalService.audiencia$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{const t=`./assets/prueba/${i.sesion.nombre.replace(/ /g,"_")}`;this.videoUrl=`${t}.mp4`,this.audioUrl=`${t}.wav`,console.log(this.audioUrl),this.audiencia=i.sesion,this._changeDetectorRef.markForCheck()}),this._incioPortalService.transcripcion$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.subtitulos=i?.transcripciones||i?.resultados||[],this.totalResponse=i?.total||0;let s=Math.ceil(this.totalResponse/this.limit);this.totalPages=s,this.subtitulos.length&&this.setCurTime(this.subtitulos[0].minuto),this._changeDetectorRef.markForCheck()}),this.searchControl.valueChanges.pipe((0,k.b)(this.debounce),(0,d.R)(this._unsubscribeAll)).subscribe(i=>{""!==i?(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:i},queryParamsHandling:"merge"}),this.loading||(this.subtituloActual="",this.myScriptElement.pause(),this.aplicarFiltroBusqueda(0)),this._changeDetectorRef.markForCheck()):(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:null},queryParamsHandling:"merge"}),this.aplicarFiltroBusqueda(0),this._changeDetectorRef.markForCheck())})}ngAfterViewInit(){this.myScriptElement.ontimeupdate=()=>{this.checkSubtitles()}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}aplicarFiltroBusqueda(i){this.loading=!0,this.page=i;let s=i+1,t=this.searchControl.value||"";""!==t?this.getTranscripcionBusqueda(s,{palabraClave:t}):this.getTranscripcionPaginated(s)}getTranscripcionPaginated(i){this._incioPortalService.getTranscripcionAudienciaPaginated(this.audiencia.clavePrincipal,i).pipe((0,d.R)(this._unsubscribeAll)).subscribe(s=>{this._incioPortalService.transcripcion=s,this.loading=!1,this._changeDetectorRef.markForCheck()},s=>{this.loading=!1,this._changeDetectorRef.markForCheck()})}getTranscripcionBusqueda(i,s){this._incioPortalService.buscarEnAudienciaPaginated(this.audiencia.clavePrincipal,s,i).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this._incioPortalService.transcripcion=t,this.loading=!1,this._changeDetectorRef.markForCheck()},t=>{this.loading=!1,this._changeDetectorRef.markForCheck()})}setCurTime(i){const s=60*parseInt(i);this.myScriptElement.currentTime=s,this.myScriptElement.play(),this.myScriptElement.muted=!1}checkSubtitles(){if(0===this.subtitulos.length||this.loading)return;const s=60*parseInt(this.subtitulos[this.subtitulos.length-1].minuto)+60;if(this.myScriptElement.currentTime>s){if(this.page+2>this.totalPages)return;return this.myScriptElement.pause(),this.aplicarFiltroBusqueda(this.page+1),void this._changeDetectorRef.markForCheck()}let t=this.subtituloActual;this.subtitulos.some((o,a)=>{const v=60*parseInt(o.minuto);if(v<this.myScriptElement.currentTime&&v+60>this.myScriptElement.currentTime&&t!==o.clavePrincipal)return this.subtituloActual=o.clavePrincipal,this._changeDetectorRef.markForCheck(),!0})}transformarData(i){if(""===this.searchControl.value)return i;const s=this.searchControl.value,t=new RegExp(s,"ig");return i.replace(t,`<strong class="font-bold text-primary">${s}</strong>`)}handlePageEnvent(i){this.aplicarFiltroBusqueda(i.pageIndex)}descargarArchivoXml(){const s=document.createElement("a");s.href="./assets/prueba/CONTINUACION DEBATE PROPOSICION No24   24 ABRIL 2024.xml",s.download="CONTINUACION DEBATE PROPOSICION No24   24 ABRIL 2024.xml",s.click()}descargarArchivoAudio(){const s=document.createElement("a");s.href="./assets/prueba/CONTINUACION DEBATE PROPOSICION No24   24 ABRIL 2024.wav",s.download="CONTINUACION DEBATE PROPOSICION No24   24 ABRIL 2024.wav",s.click()}descargarArchivoPdf(){const s=document.createElement("a");s.href="./assets/prueba/CONTINUACION_DEBATE_PROPOSICION_No24___24_ABRIL_2024.pdf",s.download="CONTINUACION DEBATE PROPOSICION No24   24 ABRIL 2024.pdf",s.click()}descargarArchivoWord(){const s=document.createElement("a");s.href="./assets/prueba/CONTINUACION_DEBATE_PROPOSICION_No24___24_ABRIL_2024.docx",s.download="CONTINUACION DEBATE PROPOSICION No24   24 ABRIL 2024.docx",s.click()}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(h.F0),e.Y36(h.gz),e.Y36(e.sBO),e.Y36(m))};static#i=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-ver-audiencia-sesion"]],viewQuery:function(s,t){if(1&s&&e.Gf(ce,7),2&s){let o;e.iGM(o=e.CRH())&&(t.videoPlayer=o.first)}},standalone:!0,features:[e.jDz],decls:59,vars:24,consts:[[1,"w-full","md:absolute","inset-0","flex","flex-col","min-w-0","md:overflow-hidden","md:flex-row"],["cdkScrollable","",1,"flex-auto","p-2","md:p-8","md:overflow-y-auto","bg-card","md:w-1/2"],[1,"flex","flex-wrap","items-center","font-medium","mb-2"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-500",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["queryParamsHandling","merge",1,"ml-1","text-primary-500",3,"routerLink"],[1,"ml-1","text-primary-500"],[1,"flex"],["mat-flat-button","","queryParamsHandling","merge",1,"cursor-pointer","p-2","flex","items-center","rounded-none","bg-gray-100","text-lg",3,"routerLink"],[1,"text-current","icon-size-4","mr-5",3,"svgIcon"],[1,"w-full","flex","mt-2"],["id","myVideo","controls","controls","preload","metadata","webkit-playsinline","webkit-playsinline",1,"w-full",3,"muted"],["videoPlayer",""],["type","video/mp4",3,"src"],[1,"w-full","flex","flex-col","mt-3"],[1,"text-2xl","font-bold","text-primary-600","tracking-wide"],[1,"border-2","border-primary","my-4"],[1,"w-full","my-4","flex","flex-row","gap-3"],[1,"w-full"],["controls","",1,"w-full"],["type","audio/mpeg",3,"src"],["matTooltip","Descargar archivo XML","src","./assets/icons/xml-icon.svg","alt","Icono xml",1,"w-12","cursor-pointer",3,"click"],[1,"text-center","font-semibold","text-lg"],[1,"grid","grid-cols-3","gap-3","w-full","mt-4","p-6"],[1,"flex","justify-center","items-center","flex-col","cursor-pointer","hover:bg-slate-200","p-2","rounded-md",3,"click"],["src","./assets/icons/word-icon.svg","alt","Icono word",1,"w-12"],[1,"mt-2","font-medium","text-base","text-center"],["src","./assets/icons/pdf-icon.svg","alt","Icono pdf",1,"w-12"],["src","./assets/icons/music-icon.svg","alt","Icono Audio",1,"w-12"],["cdkScrollable","",1,"flex-auto","p-2","md:overflow-y-auto","bg-card","md:w-1/2"],[1,"min-h-100"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Realizar b\xfasqueda",3,"formControl"],[1,"w-full","border","mt-3","min-h-100"],[4,"ngFor","ngForOf"],[1,"bg-transparent",3,"length","pageIndex","pageSize","showFirstLastButtons","page"],[4,"ngIf"],[1,"w-full","p-3","cursor-pointer","hover:bg-zinc-100","hover:shadow-md",3,"ngClass","click"],[1,"text-black","font-semibold"],[1,"text-secondary",3,"innerHTML"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._uU(5,"Comisiones"),e.qZA()(),e.TgZ(6,"div",3),e._UZ(7,"mat-icon",5),e.TgZ(8,"a",6),e._uU(9,"Comisi\xf3n Primera de la C\xe1mara de Representantes"),e.qZA()(),e.TgZ(10,"div",3),e._UZ(11,"mat-icon",5),e.TgZ(12,"a",7),e._uU(13),e.qZA()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"mat-icon",10),e._uU(17,"\xa0 Volver "),e.qZA()(),e.TgZ(18,"div",11)(19,"video",12,13),e._UZ(21,"source",14),e.qZA()(),e.TgZ(22,"div",15)(23,"h1",16),e._uU(24),e.ALo(25,"titlecase"),e.qZA()(),e._UZ(26,"div",17),e.TgZ(27,"div",18)(28,"div",19)(29,"audio",20),e._UZ(30,"source",21),e._uU(31," Your browser does not support the audio element. "),e.qZA()(),e.TgZ(32,"div",8)(33,"img",22),e.NdJ("click",function(){return t.descargarArchivoXml()}),e.qZA()()(),e.TgZ(34,"div",19)(35,"h2",23),e._uU(36,"Descargas"),e.qZA(),e.TgZ(37,"div",24)(38,"div",25),e.NdJ("click",function(){return t.descargarArchivoWord()}),e._UZ(39,"img",26),e.TgZ(40,"h3",27),e._uU(41,"Descargar Word"),e.qZA()(),e.TgZ(42,"div",25),e.NdJ("click",function(){return t.descargarArchivoPdf()}),e._UZ(43,"img",28),e.TgZ(44,"h3",27),e._uU(45,"Descargar PDF"),e.qZA()(),e.TgZ(46,"div",25),e.NdJ("click",function(){return t.descargarArchivoAudio()}),e._UZ(47,"img",29),e.TgZ(48,"h3",27),e._uU(49,"Descargar Audio"),e.qZA()()()()(),e.TgZ(50,"div",30)(51,"div",31)(52,"div",19)(53,"mat-form-field",32),e._UZ(54,"mat-icon",33)(55,"input",34),e.qZA()(),e.TgZ(56,"div",35),e.YNc(57,me,2,1,"ng-container",36),e.TgZ(58,"mat-paginator",37),e.NdJ("page",function(a){return t.handlePageEnvent(a)}),e.qZA()()()()()),2&s&&(e.xp6(4),e.Q6J("routerLink",e.DdM(21,pe)),e.xp6(3),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(1),e.Q6J("routerLink",e.DdM(22,O)),e.xp6(3),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(2),e.Oqu(t.audiencia.nombre),e.xp6(2),e.Q6J("routerLink",e.DdM(23,O)),e.xp6(1),e.Q6J("svgIcon","mat_outline:arrow_back_ios"),e.xp6(3),e.Q6J("muted",!1),e.xp6(2),e.Q6J("src",t.videoUrl,e.LSH),e.xp6(3),e.Oqu(e.lcZ(25,19,t.audiencia.nombre)),e.xp6(6),e.Q6J("src",t.audioUrl,e.LSH),e.xp6(23),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",t.searchControl),e.xp6(2),e.Q6J("ngForOf",t.subtitulos),e.xp6(1),e.Q6J("length",t.totalResponse)("pageIndex",t.page)("pageSize",20)("showFirstLastButtons",!0))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.rS,f.Ps,f.Hw,p.ot,p.zs,h.rH,_.lN,_.KE,_.qo,T.c,T.Nt,u.u5,u.Fj,u.JJ,u.UX,u.oH,w.TU,w.NW,ae.m,I.AV,I.gM,le.PQ],encapsulation:2})}return n})(),resolve:{audiencia:(n,l)=>{let i=n.paramMap.get("audiencia");return(0,e.f3M)(m).getDataAdienciaSesion(i)},transcripcion:(n,l)=>{let i=n.paramMap.get("audiencia")||"",s=n.queryParamMap.get("busqueda")||"";return""!==s?(0,e.f3M)(m).buscarEnAudiencia(i,{palabraClave:s},"1"):(0,e.f3M)(m).getTranscripcionAudiencia(i,"1")}}}]}}]);