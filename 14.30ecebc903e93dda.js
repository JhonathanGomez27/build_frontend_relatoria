"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[14],{8014:(Pe,S,a)=>{a.r(S),a.d(S,{default:()=>we});var m=a(6814),b=a(2651),w=a(3680),v=a(617),x=a(4516),h=a(4170),g=a(2296),U=a(8645),d=a(9773),F=a(3620),R=a(5986),J=a(7466),l=a(6223),k=a(8034),P=a(8525),A=a(7988),q=a(1476),f=a(8109),B=a(5940),N=a(4205),y=a(553),e=a(9212),I=a(6593),Q=a(9236),p=a(1474),T=a(5619),Z=a(9397);let _=(()=>{class o{constructor(){this.url=y.N.url,this.limit=y.N.pagination,this._httpCliente=(0,e.f3M)(p.eN),this._comisiones=new T.X(null),this._sesiones=new T.X(null),this._comisionesBusqueda=new T.X(null),this._audiencia=new T.X(null),this._transcripcion=new T.X(null)}set sesiones(i){this._sesiones.next(i)}set comisionesBusqueda(i){this._comisionesBusqueda.next(i)}set transcripcion(i){this._transcripcion.next(i)}get comisiones$(){return this._comisiones.asObservable()}get sesiones$(){return this._sesiones.asObservable()}get comisionesBusqueda$(){return this._comisionesBusqueda.asObservable()}get audiencia$(){return this._audiencia.asObservable()}get transcripcion$(){return this._transcripcion.asObservable()}getAllComisiones(){return this._httpCliente.get(`${this.url}comisiones`).pipe((0,Z.b)(i=>{this._comisiones.next(i)}))}getFromOneComision(i,n,t){let s=new p.LE;return s=s.append("page",n),s=s.append("limit",this.limit),""!==t.fechaInicio&&(s=s.append("fechaInicio",t.fechaInicio)),""!==t.fechaFin&&(s=s.append("fechaFin",t.fechaFin)),this._httpCliente.post(`${this.url}comisiones/buscarEnUnaComision`,i,{params:s})}getFromManyComision(i,n,t){let s=new p.LE;return s=s.append("page",n),s=s.append("limit",this.limit),""!==t.fechaInicio&&(s=s.append("fechaInicio",t.fechaInicio)),""!==t.fechaFin&&(s=s.append("fechaFin",t.fechaFin)),this._httpCliente.post(`${this.url}comisiones/buscarEnTodasLasComisiones`,i,{params:s})}getDataAdienciaSesion(i){return this._httpCliente.get(`${this.url}sesiones/byId/${i}`).pipe((0,Z.b)(n=>{this._audiencia.next(n)}))}getTranscripcionAudiencia(i,n){let t=new p.LE;return t=t.set("page",n),t=t.set("limit",this.limit),this._httpCliente.get(`${this.url}sesiones/obtenerTranscripciones/${i}`,{params:t}).pipe((0,Z.b)(s=>{this._transcripcion.next(s)}))}getTranscripcionAudienciaPaginated(i,n){let t=new p.LE;return t=t.set("page",n),t=t.set("limit",this.limit),this._httpCliente.get(`${this.url}sesiones/obtenerTranscripciones/${i}`,{params:t})}buscarEnAudiencia(i,n,t){let s=new p.LE;return s=s.set("page",t),s=s.set("limit",this.limit),this._httpCliente.post(`${this.url}sesiones/buscarEnUnaSesion/${i}`,n,{params:s}).pipe((0,Z.b)(r=>{this._transcripcion.next(r)}))}buscarEnAudienciaPaginated(i,n,t){let s=new p.LE;return s=s.set("page",t),s=s.set("limit",this.limit),this._httpCliente.post(`${this.url}sesiones/buscarEnUnaSesion/${i}`,n,{params:s})}getSesionesPorComision(i,n){let t=new p.LE;return t=t.set("page",n),t=t.set("limit",this.limit),this._httpCliente.post(`${this.url}comisiones/getSesionesPorComision/${i}`,{filtroOrdenamiendo:{campo:"nombre",direccion:"ASC"}},{params:t}).pipe((0,Z.b)(r=>{this._sesiones.next(r)}))}getSesionesPorComisionPaginated(i,n,t){let s=new p.LE;return s=s.set("page",n),s=s.set("limit",this.limit),this._httpCliente.post(`${this.url}comisiones/getSesionesPorComision/${i}`,t,{params:s})}getAudienciasPorSesionBusqueda(i,n){let t=new p.LE;return t=t.set("page",n),t=t.set("limit",this.limit),i.filtroOrdenamiendo=void 0,this._httpCliente.post(`${this.url}comisiones/buscarEnUnaComision`,i,{params:t}).pipe((0,Z.b)(r=>{this._sesiones.next(r)}))}getAudienciasPorSesionBusquedaPaginated(i,n){console.log(n,i);let t=new p.LE;return t=t.set("page",n),t=t.set("limit",this.limit),this._httpCliente.post(`${this.url}comisiones/buscarEnUnaComision`,i,{params:t})}static#e=this.\u0275fac=function(n){return new(n||o)};static#i=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var $=a(8212);function V(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",38),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.BQk()),2&o){const i=c.$implicit;e.xp6(1),e.Q6J("value",i.id),e.xp6(1),e.Oqu(e.lcZ(3,2,i.title))}}function z(o,c){if(1&o){const i=e.EpF();e.TgZ(0,"div",13)(1,"p",14),e._uU(2,"Comision"),e.qZA(),e.TgZ(3,"mat-form-field",36)(4,"mat-select",37),e.NdJ("selectionChange",function(t){e.CHM(i);const s=e.oxw();return e.KtG(s.setQueryParam("comision",t.value))}),e.TgZ(5,"mat-option",38),e._uU(6,"Seleccionar comision"),e.qZA(),e.YNc(7,V,4,4,"ng-container",39),e.qZA()()()}if(2&o){const i=e.oxw();e.xp6(3),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("formControlName","comision"),e.xp6(1),e.Q6J("value",""),e.xp6(2),e.Q6J("ngForOf",i.comisiones)}}function Y(o,c){if(1&o&&(e.TgZ(0,"div",56)(1,"h2",57),e._uU(2,"Coincidencias: "),e.TgZ(3,"span",58),e._uU(4),e.qZA()()()),2&o){const i=e.oxw().$implicit;e.xp6(4),e.Oqu(i.coincidencias)}}const D=o=>["./sesion",o];function H(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",42)(2,"div",4)(3,"button",43),e._UZ(4,"mat-icon",44),e.qZA()(),e.TgZ(5,"div",45)(6,"div",46)(7,"h1",47),e._uU(8),e.qZA(),e.TgZ(9,"button",43),e._UZ(10,"mat-icon",48),e.qZA()(),e._UZ(11,"div",49),e.TgZ(12,"div",50)(13,"div")(14,"p",51)(15,"span",52),e._uU(16,"Fecha:"),e.qZA(),e._uU(17),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"div",53)(20,"p",51)(21,"span",52),e._uU(22,"Duracion:"),e.qZA(),e._uU(23),e.qZA()(),e.TgZ(24,"div")(25,"button",54),e._uU(26," Detalles "),e.qZA()()(),e.YNc(27,Y,5,1,"div",55),e.qZA()(),e.BQk()),2&o){const i=c.$implicit;e.xp6(3),e.Q6J("color","primary"),e.xp6(5),e.Oqu(i.sesion.nombre),e.xp6(1),e.Q6J("color","primary"),e.xp6(8),e.Oqu(e.xi3(18,7,i.sesion.fecha,"longDate")),e.xp6(6),e.Oqu(i.sesion.duracion||"00:00:00"),e.xp6(2),e.Q6J("routerLink",e.VKq(10,D,i.sesion.clavePrincipal)),e.xp6(2),e.Q6J("ngIf",i.coincidencias)}}function j(o,c){if(1&o&&(e.ynx(0),e.YNc(1,H,28,12,"ng-container",39),e.BQk()),2&o){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.resultados)}}const O=o=>["./comision",o],M=o=>({busqueda:o});function K(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",60)(2,"div",61)(3,"div",62),e._UZ(4,"mat-icon",63),e.qZA(),e.TgZ(5,"div",64)(6,"h3",65),e._uU(7),e.qZA(),e.TgZ(8,"h4",66),e._uU(9),e.qZA()()()(),e.BQk()),2&o){const i=c.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("routerLink",e.VKq(5,O,i.id))("queryParams",e.VKq(7,M,n.searchControl.value)),e.xp6(3),e.Q6J("color","primary"),e.xp6(3),e.Oqu(i.title),e.xp6(2),e.Oqu(i.theme)}}function W(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",73)(2,"div",4)(3,"button",43),e._UZ(4,"mat-icon",44),e.qZA()(),e.TgZ(5,"div",45)(6,"div",46)(7,"h1",47),e._uU(8),e.qZA()(),e._UZ(9,"div",49),e.TgZ(10,"div",50)(11,"div")(12,"p",51)(13,"span",52),e._uU(14,"Fecha:"),e.qZA(),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"div",53)(18,"p",51)(19,"span",52),e._uU(20,"Duracion:"),e.qZA(),e._uU(21),e.qZA()(),e.TgZ(22,"div")(23,"button",54),e._uU(24," Detalles "),e.qZA()()()()(),e.BQk()),2&o){const i=c.$implicit;e.xp6(3),e.Q6J("color","primary"),e.xp6(5),e.Oqu(i.nombre),e.xp6(7),e.Oqu(e.xi3(16,5,i.sesion.fecha,"longDate")),e.xp6(6),e.Oqu(i.sesion.duracion||"00:00:00"),e.xp6(2),e.Q6J("routerLink",e.VKq(8,D,i.clavePrincipal))}}function X(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",67)(2,"div",61)(3,"div",62),e._UZ(4,"mat-icon",63),e.qZA(),e.TgZ(5,"div",64)(6,"h3",65),e._uU(7),e.qZA(),e.TgZ(8,"h4",66),e._uU(9),e.qZA()()(),e.TgZ(10,"div",68)(11,"p",69),e._uU(12,"Sesiones encontradas: "),e.TgZ(13,"span",58),e._uU(14),e.qZA()()(),e.TgZ(15,"div",70),e.YNc(16,W,25,10,"ng-container",39),e.qZA(),e.TgZ(17,"div",71)(18,"button",72),e._uU(19," Ver mas... "),e.qZA(),e.TgZ(20,"h2",57),e._uU(21,"Coincidencias: "),e.TgZ(22,"span",58),e._uU(23),e.qZA()()()(),e.BQk()),2&o){const i=c.$implicit,n=e.oxw(4);e.xp6(4),e.Q6J("color","primary"),e.xp6(3),e.Oqu(i.comision.title),e.xp6(2),e.Oqu(i.comision.theme),e.xp6(5),e.Oqu(i.sesiones.length),e.xp6(2),e.Q6J("ngForOf",i.sesiones.slice(0,4)),e.xp6(2),e.Q6J("routerLink",e.VKq(8,O,i.comision.id))("queryParams",e.VKq(10,M,n.searchControl.value)),e.xp6(5),e.Oqu(i.coincidencias)}}function G(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",59),e.YNc(2,K,10,9,"ng-container",39),e.qZA(),e.YNc(3,X,24,12,"ng-container",39),e.BQk()),2&o){const i=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",i.comisionesBusqueda),e.xp6(1),e.Q6J("ngForOf",i.resultados)}}function ee(o,c){if(1&o&&(e.ynx(0),e.YNc(1,j,2,1,"ng-container",41)(2,G,4,2,"ng-container",41),e.BQk()),2&o){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","one"===i.tipoBusqueda),e.xp6(1),e.Q6J("ngIf","all"===i.tipoBusqueda)}}function ie(o,c){1&o&&(e.TgZ(0,"div",74)(1,"h1",75),e._uU(2,"No hay resultados para mostrar."),e.qZA()())}function te(o,c){if(1&o&&(e.ynx(0),e.YNc(1,ee,3,2,"ng-container",33)(2,ie,3,0,"ng-template",null,40,e.W1O),e.BQk()),2&o){const i=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.totalResultados>0)("ngIfElse",i)}}function ne(o,c){1&o&&(e.TgZ(0,"div",76),e._UZ(1,"mat-spinner",77),e.qZA()),2&o&&(e.xp6(1),e.Q6J("diameter",40))}const se=()=>["admin"];let oe=(()=>{class o{constructor(i,n,t,s,r,u,C,ke,Ue,Fe){this.titleService=i,this.location=n,this._changeDetectorRef=t,this._fuseMediaWatcherService=s,this._adapter=r,this._formBuilder=u,this._busquedaService=C,this.router=ke,this.activatedRoute=Ue,this._userService=Fe,this.drawerMode="side",this.drawerOpened=!0,this.debounce=1500,this._unsubscribeAll=new U.x,this.totalResultados=0,this.buscar=!1,this.searchControl=new l.p4,this.resultados=[],this.page=0,this.limit=y.N.pagination,this.initial="init",this.comisiones=[],this.totalComisiones=0,this.comisionesBusqueda=[],this.userRol="",this.tipoBusqueda="all",this._adapter.setLocale("es"),this.titleService.setTitle("Relator\xeda | Busqueda"),this.filterForm=this._formBuilder.group({comision:[""],fechaInicio:[null],fechaFin:[null]})}ngOnInit(){this._userService.user$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{i&&(this.userRol=i.rol)}),this.activatedRoute.queryParams.subscribe(i=>{i.page?this.page=parseInt(i.page)-1:(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:"1"}}),this.page=0),i.busqueda&&"init"===this.initial&&this.searchControl.setValue(i.busqueda),i.comision&&this.filterForm.controls.comision.setValue(i.comision),"init"===this.initial&&i.busqueda&&this.aplicarFiltro(0)}),this.initial="fin",this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(({matchingAliases:i})=>{i.includes("md")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()}),this._busquedaService.comisiones$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.comisiones=i.data,this._changeDetectorRef.markForCheck()}),this.searchControl.valueChanges.pipe((0,F.b)(this.debounce),(0,d.R)(this._unsubscribeAll)).subscribe(i=>{""!==i?(this.buscar||(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:1},queryParamsHandling:"merge"}),this.aplicarFiltro(0)),this._changeDetectorRef.markForCheck()):(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:null},queryParamsHandling:"merge"}),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}aplicarFiltro(i){this.buscar=!0,this.page=i;let n=this.page+1,t=this.filterForm.getRawValue();for(const[u,C]of Object.entries(t))(""===C||null===C)&&delete t[u];let s={palabraClave:this.searchControl.value||"",comisionId:t.comision||""},r={fechaInicio:t.fechaInicio?this.transformDate(t.fechaInicio._d):"",fechaFin:t.fechaFin?this.transformDate(t.fechaFin._d):""};"admin"===this.userRol&&""===s.comisionId&&this.filtroPaginatedAllComision(n,s,r),"admin"===this.userRol&&""!==s.comisionId&&this.filtroPaginatedOneComision(n,s,r),"admin"!==this.userRol&&this.filtroPaginatedOneComision(n,s,r)}filtroPaginatedOneComision(i,n,t){this._busquedaService.getFromOneComision(n,i,t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(s=>{this.tipoBusqueda="one",this.comisionesBusqueda=[],this.resultados=s.resultados||[],this.totalResultados=s.total||0,this.totalComisiones=s.totalComisiones||0,this.buscar=!1,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:n.palabraClave},queryParamsHandling:"merge"}),this._changeDetectorRef.markForCheck()})}filtroPaginatedAllComision(i,n,t){this._busquedaService.getFromManyComision(n,i,t).pipe((0,d.R)(this._unsubscribeAll)).subscribe(s=>{this.tipoBusqueda="all",this.comisionesBusqueda=s.comisiones||[],this.resultados=s.resultados||[],this.totalComisiones=s.totalComisiones||0,this.totalResultados=s.total||0,this.buscar=!1,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:n.palabraClave},queryParamsHandling:"merge"}),this._changeDetectorRef.markForCheck()})}setQueryParam(i,n){""===n&&(n=null),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{[i]:n},queryParamsHandling:"merge"}),this._changeDetectorRef.markForCheck()}handlePageChangeEvent(i){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:i.pageIndex},queryParamsHandling:"merge"}),this.aplicarFiltro(i.pageIndex)}transformDate(i){const n=i.getFullYear(),t=i.getMonth()+1,s=i.getDate();return`${n}-${t<10?"0"+t:t}-${s<10?"0"+s:s}`}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(I.Dx),e.Y36(m.Ye),e.Y36(e.sBO),e.Y36(Q.T),e.Y36(w._A),e.Y36(l.QS),e.Y36(_),e.Y36(f.F0),e.Y36(f.gz),e.Y36($.K))};static#i=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-busqueda"]],standalone:!0,features:[e.jDz],decls:49,vars:30,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"p-6","bg-white","w-full","flex","justify-between"],[1,"flex","flex-row","gap-3","items-center"],[1,"sm:text-4xl","font-semibold","text-primary-700","text-2xl"],[1,"flex","items-center"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex-auto","h-full"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],["matDrawer",""],["cass","overflow-y-hidden"],[3,"formGroup"],["class","px-5 mt-2",4,"appShowForRoles"],[1,"px-5","mt-2"],[1,"text-secondary","font-medium"],[1,"w-full",3,"subscriptSizing","click"],["matInput","",3,"matDatepicker","formControlName","placeholder"],["fromDatePicker",""],["toDatePicker",""],[1,"p-2","mt-2","bg-white"],["mat-flat-button","",1,"rounded-none","w-full","text-white",3,"color","click"],[1,"text-white",3,"svgIcon"],[1,"hidden","sm:inline-block","ml-2","text-white"],[1,"flex","flex-col","bg-white"],[1,"flex-auto","px-6","sm:px-10"],[1,"flex","items-center","flex-auto","gap-2"],[1,"fuse-mat-rounded","fuse-mat-dense","flex-auto",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","formControl","placeholder"],["searchInput",""],[1,"flex","w-full","justify-between","px-5","py-2"],[1,"text-secondary","font-semibold"],[1,"min-h-100"],[4,"ngIf","ngIfElse"],["progresShow",""],[1,"bg-transparent",3,"length","pageIndex","pageSize","showFirstLastButtons","page"],[1,"w-full","mt-2",3,"subscriptSizing"],["placeholder","Seleccionar comision",3,"formControlName","selectionChange"],[1,"font-medium","my-2",3,"value"],[4,"ngFor","ngForOf"],["noResultados",""],[4,"ngIf"],[1,"p-4","border","border-gray-300","rounded-md","flex","flex-row","items-center","gap-3","overflow-hidden","mb-3"],["mat-icon-button","",3,"color"],["svgIcon","heroicons_solid:play-circle",1,"icon-size-12"],[1,"w-full","overflow-hidden"],[1,"w-full","flex","flex-row","items-center","overflow-hidden","justify-between","gap-3"],[1,"text-xl","font-medium","truncate"],["svgIcon","mat_outline:download_for_offline",1,"icon-size-10"],[1,"border-2","border-primary-600","my-2"],[1,"w-full","flex","flex-row","gap-3","mt-2","items-center","justify-evenly"],[1,"text-md"],[1,"font-semibold"],[1,"hidden","sm:block"],["mat-button","","queryParamsHandling","merge","routerLinkActive","router-link-active",1,"border","border-solid","border-primary-600","text-primary","hover:bg-primary-500","hover:text-white","font-bold",3,"routerLink"],["class","w-full flex justify-end mt-2",4,"ngIf"],[1,"w-full","flex","justify-end","mt-2"],[1,"text-lg","font-semibold"],[1,"font-medium"],[1,"grid","grid-cols-2","md:grid-cols-3","mb-4","gap-3"],[1,"w-full","border-2","p-4","rounded-xl","cursor-pointer","hover:shadow-xl",3,"routerLink","queryParams"],[1,"flex","flex-row","items-center","gap-2"],[1,"flex","items-start"],["svgIcon","heroicons_outline:building-library",1,"icon-size-12",3,"color"],[1,""],[1,"text-2xl","font-semibold","text-black"],[1,"text-xl","font-medium","text-black"],[1,"w-full","flex","flex-col","border-2","p-4","rounded-xl","hover:shadow-xl","mb-3"],[1,"w-full","flex","justify-end"],[1,"text-lg","font-semibold","text-black"],[1,"w-full","grid","grid-cols-1","md:grid-cols-2","gap-2","mt-4"],[1,"w-full","flex","justify-between","items-center","mt-2"],["mat-button","",1,"border","border-solid","rounded-md","border-primary-600","text-primary","text-lg",3,"routerLink","queryParams"],[1,"p-4","border","border-gray-300","rounded-md","flex","flex-row","items-center","gap-3","overflow-hidden"],[1,"w-full","text-center","p-10"],[1,"text-2xl","font-bold"],[1,"w-full","flex","justify-center","p-5"],[3,"diameter"]],template:function(n,t){if(1&n){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Busqueda"),e.qZA()(),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){e.CHM(s);const u=e.MAs(10);return e.KtG(u.toggle())}),e._UZ(7,"mat-icon",6),e.qZA()()(),e.TgZ(8,"mat-drawer-container",7)(9,"mat-drawer",8,9)(11,"div",10)(12,"form",11),e.YNc(13,z,8,4,"div",12),e.TgZ(14,"div",13)(15,"p",14),e._uU(16,"Fecha Inicio"),e.qZA(),e.TgZ(17,"mat-form-field",15),e.NdJ("click",function(){e.CHM(s);const u=e.MAs(20);return e.KtG(u.open())}),e._UZ(18,"input",16)(19,"mat-datepicker",null,17),e.qZA()(),e.TgZ(21,"div",13)(22,"p",14),e._uU(23,"Fecha Fin"),e.qZA(),e.TgZ(24,"mat-form-field",15),e.NdJ("click",function(){e.CHM(s);const u=e.MAs(27);return e.KtG(u.open())}),e._UZ(25,"input",16)(26,"mat-datepicker",null,18),e.qZA()(),e.TgZ(28,"div",19)(29,"button",20),e.NdJ("click",function(){return t.aplicarFiltro(0)}),e._UZ(30,"mat-icon",21),e.TgZ(31,"span",22),e._uU(32,"Filtrar"),e.qZA()()()()()(),e.TgZ(33,"mat-drawer-content",23)(34,"div",24)(35,"div",4)(36,"div",25)(37,"mat-form-field",26),e._UZ(38,"mat-icon",27)(39,"input",28,29),e.qZA()()(),e.TgZ(41,"div",30)(42,"p",31),e._uU(43),e.qZA()(),e.TgZ(44,"div",32),e.YNc(45,te,4,2,"ng-container",33)(46,ne,2,1,"ng-template",null,34,e.W1O),e.TgZ(48,"mat-paginator",35),e.NdJ("page",function(u){return t.handlePageChangeEvent(u)}),e.qZA()()()()()()}if(2&n){const s=e.MAs(20),r=e.MAs(27),u=e.MAs(47);e.xp6(7),e.Q6J("svgIcon","heroicons_outline:bars-3"),e.xp6(2),e.Q6J("autoFocus",!1)("mode",t.drawerMode)("opened",t.drawerOpened),e.xp6(3),e.Q6J("formGroup",t.filterForm),e.xp6(1),e.Q6J("appShowForRoles",e.DdM(29,se)),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("matDatepicker",s)("formControlName","fechaInicio")("placeholder","Desde"),e.xp6(6),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("matDatepicker",r)("formControlName","fechaFin")("placeholder","Hasta"),e.xp6(4),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","feather:filter"),e.xp6(7),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("autocomplete","off")("formControl",t.searchControl)("placeholder","Realizar busqueda"),e.xp6(4),e.AsE("",t.totalResultados," Sesiones encontradas y ",t.totalComisiones," comisiones encontradas."),e.xp6(2),e.Q6J("ngIf",!t.buscar)("ngIfElse",u),e.xp6(3),e.Q6J("length",t.totalResultados)("pageIndex",t.page)("pageSize",t.limit)("showFirstLastButtons",!0)}},dependencies:[m.ez,m.sg,m.O5,m.rS,m.uU,b.SJ,b.jA,b.kh,b.LW,w.si,v.Ps,v.Hw,g.ot,g.lW,g.RK,h.lN,h.KE,h.qo,x.c,x.Nt,R.p9,J.Fk,l.u5,l._Y,l.Fj,l.JJ,l.JL,k.FA,k.Mq,k.hl,P.LD,P.gD,w.ey,A.Tx,q.TU,q.NW,f.rH,l.UX,l.oH,l.sg,l.u,B.Cq,B.Ou,N.Y],encapsulation:2})}return o})();var ue=a(4189),E=a(2596),de=a(5407);const me=["videoPlayer"],pe=o=>({"bg-zinc-300":o});function he(o,c){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",39),e.NdJ("click",function(){e.CHM(i);const t=e.oxw().$implicit,s=e.oxw();return e.KtG(s.setCurTime(t.minuto))}),e.TgZ(2,"a",40),e._uU(3),e.qZA(),e._UZ(4,"p",41),e.ALo(5,"sanitizeHtml"),e.qZA(),e.BQk()}if(2&o){const i=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(5,pe,i.clavePrincipal===n.subtituloActual)),e.xp6(2),e.hij("Minuto ",i.minuto,": "),e.xp6(1),e.Q6J("innerHTML",e.lcZ(5,3,n.transformarData(i.textoOriginal)),e.oJD)}}function ge(o,c){if(1&o&&(e.ynx(0),e.YNc(1,he,6,7,"ng-container",38),e.BQk()),2&o){const i=c.$implicit;e.xp6(1),e.Q6J("ngIf",""!==i.textoOriginal)}}const fe=()=>["./inicio-portal"],L=o=>["../../comision",o];let _e=(()=>{class o{constructor(i,n,t,s){this.router=i,this.activatedRoute=n,this._changeDetectorRef=t,this._busquedaService=s,this._unsubscribeAll=new U.x,this.comision={},this.audiencia={},this.subtitulos=[],this.subtituloActual="",this.totalResponse=0,this.page=0,this.totalPages=0,this.disableSubtitulos=!1,this.searchControl=new l.p4,this.debounce=1500,this.loading=!1,this.initital="init",this.videoUrl="",this.audioUrl="",this.limit=y.N.pagination,this.params={},this.activatedRoute.params.subscribe(r=>{this.params=r})}ngOnInit(){this.myScriptElement=this.videoPlayer.nativeElement,this.activatedRoute.queryParams.subscribe(i=>{i.busqueda&&"init"===this.initital&&this.searchControl.setValue(i.busqueda),this.initital="fin",this._changeDetectorRef.markForCheck()}),this._busquedaService.audiencia$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.audiencia=i.sesion,this.videoUrl=`./video/${this.audiencia.rutaVideo}`,this.audioUrl=`./audio/${this.audiencia.rutaAudio}`,this._changeDetectorRef.markForCheck(),this._changeDetectorRef.markForCheck()}),this._busquedaService.transcripcion$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.subtitulos=i?.transcripciones||i?.resultados||[],this.totalResponse=i?.total||0;let n=Math.ceil(this.totalResponse/this.limit);this.totalPages=n,this.subtitulos.length&&this.setCurTime(this.subtitulos[0].minuto),this._changeDetectorRef.markForCheck()}),this.searchControl.valueChanges.pipe((0,F.b)(this.debounce),(0,d.R)(this._unsubscribeAll)).subscribe(i=>{""!==i?(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:i},queryParamsHandling:"merge"}),this.loading||(this.subtituloActual="",this.myScriptElement.pause(),this.aplicarFiltroBusqueda(0)),this._changeDetectorRef.markForCheck()):(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:null},queryParamsHandling:"merge"}),this.aplicarFiltroBusqueda(0),this._changeDetectorRef.markForCheck())})}ngAfterViewInit(){this.myScriptElement.ontimeupdate=()=>{this.checkSubtitles()}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}aplicarFiltroBusqueda(i){this.loading=!0,this.page=i;let n=i+1,t=this.searchControl.value||"";""!==t?this.getTranscripcionBusqueda(n,{palabraClave:t}):this.getTranscripcionPaginated(n)}getTranscripcionPaginated(i){this._busquedaService.getTranscripcionAudienciaPaginated(this.audiencia.clavePrincipal,i).pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{this._busquedaService.transcripcion=n,this.loading=!1,this._changeDetectorRef.markForCheck()},n=>{this.loading=!1,this._changeDetectorRef.markForCheck()})}getTranscripcionBusqueda(i,n){this._busquedaService.buscarEnAudienciaPaginated(this.audiencia.clavePrincipal,n,i).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this._busquedaService.transcripcion=t,this.loading=!1,this._changeDetectorRef.markForCheck()},t=>{this.loading=!1,this._changeDetectorRef.markForCheck()})}setCurTime(i){const n=60*parseInt(i);this.myScriptElement.currentTime=n,this.myScriptElement.play(),this.myScriptElement.muted=!1}checkSubtitles(){if(0===this.subtitulos.length||this.loading)return;const n=60*parseInt(this.subtitulos[this.subtitulos.length-1].minuto)+60;if(this.myScriptElement.currentTime>n){if(this.page+2>this.totalPages)return;return this.myScriptElement.pause(),this.aplicarFiltroBusqueda(this.page+1),void this._changeDetectorRef.markForCheck()}let t=this.subtituloActual;this.subtitulos.some((s,r)=>{const u=60*parseInt(s.minuto);if(u<this.myScriptElement.currentTime&&u+60>this.myScriptElement.currentTime&&t!==s.clavePrincipal)return this.subtituloActual=s.clavePrincipal,this._changeDetectorRef.markForCheck(),!0})}transformarData(i){if(""===this.searchControl.value)return i;const n=this.searchControl.value,t=new RegExp(n,"ig");return i.replace(t,`<strong class="font-bold text-primary">${n}</strong>`)}handlePageEnvent(i){this.aplicarFiltroBusqueda(i.pageIndex)}descargarArchivoXml(){const i=this.audiencia.rutaXML,n=`./xml/${i}`,t=document.createElement("a");t.href=n,t.download=i,t.click()}descargarArchivoAudio(){const i=this.audiencia.rutaAudio,n=`./audio/${i}`,t=document.createElement("a");t.href=n,t.download=i,t.click()}descargarArchivoPdf(){const i=this.audiencia.rutaPDF,n=`./pdf/${i}`,t=document.createElement("a");t.href=n,t.download=i,t.click()}descargarArchivoWord(){const i=this.audiencia.rutaDoc,n=`./word/${i}`,t=document.createElement("a");t.href=n,t.download=i,t.click()}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(f.F0),e.Y36(f.gz),e.Y36(e.sBO),e.Y36(_))};static#i=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver-audiencia-busqueda"]],viewQuery:function(n,t){if(1&n&&e.Gf(me,7),2&n){let s;e.iGM(s=e.CRH())&&(t.videoPlayer=s.first)}},standalone:!0,features:[e.jDz],decls:59,vars:26,consts:[[1,"w-full","md:absolute","inset-0","flex","flex-col","min-w-0","md:overflow-hidden","md:flex-row"],["cdkScrollable","",1,"flex-auto","p-2","md:p-8","md:overflow-y-auto","bg-card","md:w-1/2"],[1,"flex","flex-wrap","items-center","font-medium","mb-2"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-500",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["queryParamsHandling","merge",1,"ml-1","text-primary-500",3,"routerLink"],[1,"ml-1","text-primary-500"],[1,"flex"],["mat-flat-button","","queryParamsHandling","merge",1,"cursor-pointer","p-2","flex","items-center","rounded-none","bg-gray-100","text-lg",3,"routerLink"],[1,"text-current","icon-size-4","mr-5",3,"svgIcon"],[1,"w-full","flex","mt-2"],["id","myVideo","controls","controls","preload","metadata","webkit-playsinline","webkit-playsinline",1,"w-full",3,"muted"],["videoPlayer",""],["type","video/mp4",3,"src"],[1,"w-full","flex","flex-col","mt-3"],[1,"text-2xl","font-bold","text-primary-600","tracking-wide"],[1,"border-2","border-primary","my-4"],[1,"w-full","my-4","flex","flex-row","gap-3"],[1,"w-full"],["controls","",1,"w-full"],["type","audio/mpeg",3,"src"],["matTooltip","Descargar archivo XML","src","./assets/icons/xml-icon.svg","alt","Icono xml",1,"w-12","cursor-pointer",3,"click"],[1,"text-center","font-semibold","text-lg"],[1,"grid","grid-cols-3","gap-3","w-full","mt-4","p-6"],[1,"flex","justify-center","items-center","flex-col","cursor-pointer","hover:bg-slate-200","p-2","rounded-md",3,"click"],["src","./assets/icons/word-icon.svg","alt","Icono word",1,"w-12"],[1,"mt-2","font-medium","text-base","text-center"],["src","./assets/icons/pdf-icon.svg","alt","Icono pdf",1,"w-12"],["src","./assets/icons/music-icon.svg","alt","Icono Audio",1,"w-12"],["cdkScrollable","",1,"flex-auto","p-2","md:overflow-y-auto","bg-card","md:w-1/2"],[1,"min-h-100"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Realizar b\xfasqueda",3,"formControl"],[1,"w-full","border","mt-3","min-h-100"],[4,"ngFor","ngForOf"],[1,"bg-transparent",3,"length","pageIndex","pageSize","showFirstLastButtons","page"],[4,"ngIf"],[1,"w-full","p-3","cursor-pointer","hover:bg-zinc-100","hover:shadow-md",3,"ngClass","click"],[1,"text-black","font-semibold"],[1,"text-secondary",3,"innerHTML"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._uU(5,"Comisiones"),e.qZA()(),e.TgZ(6,"div",3),e._UZ(7,"mat-icon",5),e.TgZ(8,"a",6),e._uU(9,"Comisi\xf3n Primera de la C\xe1mara de Representantes"),e.qZA()(),e.TgZ(10,"div",3),e._UZ(11,"mat-icon",5),e.TgZ(12,"a",7),e._uU(13),e.qZA()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"mat-icon",10),e._uU(17,"\xa0 Volver "),e.qZA()(),e.TgZ(18,"div",11)(19,"video",12,13),e._UZ(21,"source",14),e.qZA()(),e.TgZ(22,"div",15)(23,"h1",16),e._uU(24),e.ALo(25,"titlecase"),e.qZA()(),e._UZ(26,"div",17),e.TgZ(27,"div",18)(28,"div",19)(29,"audio",20),e._UZ(30,"source",21),e._uU(31," Your browser does not support the audio element. "),e.qZA()(),e.TgZ(32,"div",8)(33,"img",22),e.NdJ("click",function(){return t.descargarArchivoXml()}),e.qZA()()(),e.TgZ(34,"div",19)(35,"h2",23),e._uU(36,"Descargas"),e.qZA(),e.TgZ(37,"div",24)(38,"div",25),e.NdJ("click",function(){return t.descargarArchivoWord()}),e._UZ(39,"img",26),e.TgZ(40,"h3",27),e._uU(41,"Descargar Word"),e.qZA()(),e.TgZ(42,"div",25),e.NdJ("click",function(){return t.descargarArchivoPdf()}),e._UZ(43,"img",28),e.TgZ(44,"h3",27),e._uU(45,"Descargar PDF"),e.qZA()(),e.TgZ(46,"div",25),e.NdJ("click",function(){return t.descargarArchivoAudio()}),e._UZ(47,"img",29),e.TgZ(48,"h3",27),e._uU(49,"Descargar Audio"),e.qZA()()()()(),e.TgZ(50,"div",30)(51,"div",31)(52,"div",19)(53,"mat-form-field",32),e._UZ(54,"mat-icon",33)(55,"input",34),e.qZA()(),e.TgZ(56,"div",35),e.YNc(57,ge,2,1,"ng-container",36),e.TgZ(58,"mat-paginator",37),e.NdJ("page",function(r){return t.handlePageEnvent(r)}),e.qZA()()()()()),2&n&&(e.xp6(4),e.Q6J("routerLink",e.DdM(21,fe)),e.xp6(3),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(1),e.Q6J("routerLink",e.VKq(22,L,t.audiencia.id_comision)),e.xp6(3),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(2),e.Oqu(t.audiencia.nombre),e.xp6(2),e.Q6J("routerLink",e.VKq(24,L,t.audiencia.id_comision)),e.xp6(1),e.Q6J("svgIcon","mat_outline:arrow_back_ios"),e.xp6(3),e.Q6J("muted",!1),e.xp6(2),e.Q6J("src",t.videoUrl,e.LSH),e.xp6(3),e.Oqu(e.lcZ(25,19,t.audiencia.nombre)),e.xp6(6),e.Q6J("src",t.audioUrl,e.LSH),e.xp6(23),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",t.searchControl),e.xp6(2),e.Q6J("ngForOf",t.subtitulos),e.xp6(1),e.Q6J("length",t.totalResponse)("pageIndex",t.page)("pageSize",20)("showFirstLastButtons",!0))},dependencies:[m.ez,m.mk,m.sg,m.O5,m.rS,v.Ps,v.Hw,g.ot,g.zs,f.rH,h.lN,h.KE,h.qo,x.c,x.Nt,l.u5,l.Fj,l.JJ,l.UX,l.oH,q.TU,q.NW,ue.m,E.AV,E.gM,de.PQ],encapsulation:2})}return o})();const be=["audioPlayer"];function ve(o,c){if(1&o&&e._UZ(0,"source",41),2&o){const i=e.oxw();e.Q6J("src",i.audioUrl,e.LSH)}}function xe(o,c){1&o&&e._UZ(0,"mat-icon",58)}function qe(o,c){1&o&&e._UZ(0,"mat-icon",59)}function Ze(o,c){if(1&o&&(e.TgZ(0,"div",60)(1,"h2",61),e._uU(2,"Coincidencias: "),e.TgZ(3,"span",62),e._uU(4),e.qZA()()()),2&o){const i=e.oxw().$implicit;e.xp6(4),e.Oqu(i.coincidencias)}}const Ce=o=>["/busqueda/sesion",o];function Ae(o,c){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",42)(2,"div",34)(3,"button",43),e.NdJ("click",function(){const s=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.iniciarAudio(s.sesion.rutaAudio,s.sesion))}),e.YNc(4,xe,1,0,"mat-icon",44)(5,qe,1,0,"mat-icon",45),e.qZA()(),e.TgZ(6,"div",46)(7,"div",47)(8,"h1",48),e._uU(9),e.qZA(),e.TgZ(10,"button",49),e._UZ(11,"mat-icon",50),e.qZA()(),e._UZ(12,"div",51),e.TgZ(13,"div",52)(14,"div")(15,"p",53)(16,"span",54),e._uU(17,"Fecha:"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA()(),e._UZ(20,"div"),e.TgZ(21,"div",55)(22,"p",53)(23,"span",54),e._uU(24,"Duracion:"),e.qZA(),e._uU(25),e.qZA()(),e.TgZ(26,"div")(27,"button",56),e._uU(28," Detalles "),e.qZA()()(),e.YNc(29,Ze,5,1,"div",57),e.qZA()(),e.BQk()}if(2&o){const i=c.$implicit,n=e.oxw();e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("ngIf",n.sesionPresionada!==i.sesion.clavePrincipal),e.xp6(1),e.Q6J("ngIf",n.sesionPresionada===i.sesion.clavePrincipal),e.xp6(4),e.Oqu(i.sesion.nombre),e.xp6(1),e.Q6J("color","primary"),e.xp6(8),e.Oqu(e.xi3(19,9,i.sesion.fecha,"longDate")),e.xp6(7),e.Oqu(i.sesion.duracion||"00:00:00"),e.xp6(2),e.Q6J("routerLink",e.VKq(12,Ce,i.sesion.clavePrincipal)),e.xp6(2),e.Q6J("ngIf",i.coincidencias)}}const ye=()=>["../../"],Te=o=>({busqueda:o,page:1}),we=[{path:"",component:oe,resolve:{data:()=>(0,e.f3M)(_).getAllComisiones()}},{path:"comision/:id",component:(()=>{class o{constructor(i,n,t,s,r,u){this.titleService=i,this._changeDetectorRef=n,this._fuseMediaWatcherService=t,this.router=s,this.activatedRoute=r,this._busquedaService=u,this.drawerMode="side",this.drawerOpened=!0,this.debounce=1500,this._unsubscribeAll=new U.x,this.totalResultados=0,this.buscar=!1,this.searchControl=new l.p4(""),this.resultados=[],this.comision={},this.page=0,this.limit=y.N.pagination,this.initial="init",this.sortFilter="Alfabeticamente: Ascendente",this.criterio="nombre",this.orden="ASC",this.audioUrl="",this.loadAudio=!1,this.sesionPresionada=null,this.titleService.setTitle("Relator\xeda | Comision")}ngOnInit(){this.myScriptElement=this.audioPlayer.nativeElement,this.activatedRoute.queryParams.subscribe(i=>{i.page?this.page=parseInt(i.page)-1:(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:"1"}}),this.page=0),i.busqueda&&"init"===this.initial&&(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:i.busqueda}}),this.searchControl.setValue(i.busqueda))}),this.initial="fin",this._busquedaService.sesiones$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{this.resultados=i.resultados,this.totalResultados=i.total,this.comision=i.comision,this.titleService.setTitle(`Relator\xeda | ${this.comision.title}`),this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(({matchingAliases:i})=>{i.includes("md")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()}),this.searchControl.valueChanges.pipe((0,F.b)(this.debounce),(0,d.R)(this._unsubscribeAll)).subscribe(i=>{""!==i?(this.buscar||this.aplicarFiltro(0),this._changeDetectorRef.markForCheck()):(this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:null},queryParamsHandling:"merge"}),this.buscar||this.aplicarFiltro(0),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}aplicarFiltro(i){console.log("entra"),this.buscar=!0,this.page=i;let n=this.searchControl.value||"",t=i+1;""===n?"fin"===this.initial?this.obtenerSesionesPaginated(t):this.buscar=!1:this.obtenerSesionesBusqueda(t,{palabraClave:n,comisionId:this.comision.id})}obtenerSesionesBusqueda(i,n){n.filtroOrdenamiendo={campo:this.criterio,direccion:this.orden},this._busquedaService.getAudienciasPorSesionBusqueda(n,i).pipe((0,d.R)(this._unsubscribeAll)).subscribe(s=>{this._busquedaService.sesiones=s,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{busqueda:n.palabraClave},queryParamsHandling:"merge"}),this.buscar=!1,this._changeDetectorRef.markForCheck()},s=>{this.buscar=!1,this._changeDetectorRef.markForCheck()})}obtenerSesionesPaginated(i){this._busquedaService.getSesionesPorComisionPaginated(this.comision.id,i,{filtroOrdenamiendo:{campo:this.criterio,direccion:this.orden}}).pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this._busquedaService.sesiones=t,this.buscar=!1,this._changeDetectorRef.markForCheck()},t=>{this.buscar=!1,this._changeDetectorRef.markForCheck()})}sortByOnChange(i,n,t){this.buscar||(this.sortFilter=i,this.criterio=n,this.orden=t,this.aplicarFiltro(0))}handlePageEnvent(i){this.aplicarFiltro(i.pageIndex)}iniciarAudio(i,n){this.loadAudio?(this.sesionPresionada=null,this.myScriptElement.pause(),this.myScriptElement.currentTime=0,this.loadAudio=!1,this._changeDetectorRef.markForCheck()):(this.sesionPresionada=n.clavePrincipal,this.audioUrl=`./audio/${i}`,this.loadAudio=!0,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.myScriptElement.play()},200))}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(I.Dx),e.Y36(e.sBO),e.Y36(Q.T),e.Y36(f.F0),e.Y36(f.gz),e.Y36(_))};static#i=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver-comision-busqueda"]],viewQuery:function(n,t){if(1&n&&e.Gf(be,7),2&n){let s;e.iGM(s=e.CRH())&&(t.audioPlayer=s.first)}},standalone:!0,features:[e.jDz],decls:76,vars:30,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"p-6","bg-white","w-full","flex","justify-between"],[1,"flex","flex-row","gap-3","items-center"],["mat-flat-button","",1,"cursor-pointer","p-2","flex","items-center","rounded-none","bg-gray-100",3,"routerLink","queryParams"],[1,"text-current","icon-size-4","mr-2",3,"svgIcon"],[1,"flex","items-center","md:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex-auto","h-full"],[1,"w-80","dark:bg-gray-900",3,"autoFocus","mode","opened"],["matDrawer",""],[1,"w-full","px-8"],[1,""],["svgIcon","heroicons_outline:building-library",1,"icon-size-10",3,"color"],[1,"w-full","text-left","justify-center","text-black","font-bold","text-xl","mt-2"],[1,"w-full","text-left","justify-center","text-black","font-medium","text-lg","mt-2"],[1,"w-full","text-left","justify-center","text-black","text-lg","mt-2"],[1,"font-semibold","mb-2"],[1,"font-normal"],[1,"w-full","hidden"],["controls","",1,"w-full"],["audioPlayer",""],["type","audio/mpeg",3,"src",4,"ngIf"],[1,"flex","flex-col","bg-white"],[1,"flex-auto","px-6","sm:px-10"],[1,"w-full","mb-4","flex","flex-row","gap-2","items-center"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Realizar b\xfasqueda",3,"formControl"],["mat-button","",1,"sm:inline-flex",3,"matMenuTriggerFor","disabled"],[1,"icon-size-5",3,"svgIcon"],[1,"hidden","sm:inline-block","ml-2"],["orderByMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","items-center"],[1,"flex","w-full","justify-between","mb-5"],[1,"text-secondary","font-normal"],[1,"w-full"],[4,"ngFor","ngForOf"],[1,"w-full","mt-3","flex","justify-end"],[1,"bg-transparent",3,"disabled","length","pageIndex","pageSize","showFirstLastButtons","page"],["type","audio/mpeg",3,"src"],[1,"p-4","border","border-gray-300","rounded-md","flex","flex-row","items-center","gap-3","overflow-hidden","mb-3"],["mat-icon-button","",3,"color","click"],["class","icon-size-12","svgIcon","heroicons_solid:play-circle",4,"ngIf"],["class","icon-size-8","svgIcon","heroicons_solid:pause",4,"ngIf"],[1,"w-full","overflow-hidden"],[1,"w-full","flex","flex-row","items-center","overflow-hidden","justify-between","gap-3"],[1,"text-xl","font-medium","truncate"],["mat-icon-button","",3,"color"],["svgIcon","mat_outline:download_for_offline",1,"icon-size-10"],[1,"border-2","border-primary-600","my-2"],[1,"w-full","flex","flex-row","gap-3","mt-2","items-center","justify-evenly"],[1,"text-md"],[1,"font-semibold"],[1,"hidden","sm:block"],["mat-button","","queryParamsHandling","merge","routerLinkActive","router-link-active",1,"border","border-solid","border-primary-600","text-primary","hover:bg-primary-500","hover:text-white","font-bold",3,"routerLink"],["class","w-full flex justify-end mt-2",4,"ngIf"],["svgIcon","heroicons_solid:play-circle",1,"icon-size-12"],["svgIcon","heroicons_solid:pause",1,"icon-size-8"],[1,"w-full","flex","justify-end","mt-2"],[1,"text-lg","font-semibold"],[1,"font-medium"]],template:function(n,t){if(1&n){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"mat-icon",4),e._uU(5," Volver "),e.qZA()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){e.CHM(s);const u=e.MAs(11);return e.KtG(u.toggle())}),e._UZ(8,"mat-icon",7),e.qZA()()(),e.TgZ(9,"mat-drawer-container",8)(10,"mat-drawer",9,10)(12,"div",11)(13,"div",12),e._UZ(14,"mat-icon",13),e.qZA(),e.TgZ(15,"div",14),e._uU(16),e.qZA(),e.TgZ(17,"div",15),e._uU(18," Mesa Directiva: "),e.qZA(),e.TgZ(19,"div",16)(20,"h2",17),e._uU(21,"Presidente: "),e.TgZ(22,"span",18),e._uU(23),e.qZA()(),e.TgZ(24,"h2",17),e._uU(25,"Vicepresidenta: "),e.TgZ(26,"span",18),e._uU(27),e.qZA()(),e.TgZ(28,"h2",17),e._uU(29,"Secretaria: "),e.TgZ(30,"span",18),e._uU(31),e.qZA()(),e.TgZ(32,"h2",17),e._uU(33,"Subsecretaria: "),e.TgZ(34,"span",18),e._uU(35),e.qZA()()(),e.TgZ(36,"div",19)(37,"audio",20,21),e.YNc(39,ve,1,1,"source",22),e._uU(40," Your browser does not support the audio element. "),e.qZA()()()(),e.TgZ(41,"mat-drawer-content",23)(42,"div",24)(43,"div",25)(44,"mat-form-field",26),e._UZ(45,"mat-icon",27)(46,"input",28),e.qZA(),e.TgZ(47,"button",29),e._UZ(48,"mat-icon",30),e.TgZ(49,"span",31),e._uU(50,"Ordenar"),e.qZA()(),e.TgZ(51,"mat-menu",null,32)(53,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Alfabeticamente: Ascendente","nombre","ASC")}),e.TgZ(54,"span",34)(55,"span"),e._uU(56,"Alfabeticamente: Ascendente"),e.qZA()()(),e.TgZ(57,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Alfabeticamente: Descendente","nombre","DESC")}),e.TgZ(58,"span",34)(59,"span"),e._uU(60,"Alfabeticamente: Descendente"),e.qZA()()(),e.TgZ(61,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Mas Recientes","fecha","DESC")}),e.TgZ(62,"span",34)(63,"span"),e._uU(64,"Mas Recientes"),e.qZA()()(),e.TgZ(65,"button",33),e.NdJ("click",function(){return t.sortByOnChange("Mas Antiguos","fecha","ASC")}),e.TgZ(66,"span",34)(67,"span"),e._uU(68,"Mas Antiguos"),e.qZA()()()()(),e.TgZ(69,"div",35)(70,"p",36),e._uU(71),e.qZA()(),e.TgZ(72,"div",37),e.YNc(73,Ae,30,14,"ng-container",38),e.qZA(),e.TgZ(74,"div",39)(75,"mat-paginator",40),e.NdJ("page",function(u){return t.handlePageEnvent(u)}),e.qZA()()()()()()}if(2&n){const s=e.MAs(52);e.xp6(3),e.Q6J("routerLink",e.DdM(27,ye))("queryParams",e.VKq(28,Te,t.searchControl.value)),e.xp6(1),e.Q6J("svgIcon","mat_outline:arrow_back_ios"),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:bars-3"),e.xp6(2),e.Q6J("autoFocus",!1)("mode",t.drawerMode)("opened",t.drawerOpened),e.xp6(4),e.Q6J("color","primary"),e.xp6(2),e.hij(" ",t.comision.title," "),e.xp6(7),e.Oqu(t.comision.presidente),e.xp6(4),e.Oqu(t.comision.vicepresidente),e.xp6(4),e.Oqu(t.comision.secretario),e.xp6(4),e.Oqu(t.comision.subsecretario),e.xp6(4),e.Q6J("ngIf",t.loadAudio),e.xp6(5),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",t.searchControl),e.xp6(1),e.Q6J("matMenuTriggerFor",s)("disabled",t.buscar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:bars-arrow-down"),e.xp6(23),e.hij("Ordenado por: ",t.sortFilter,""),e.xp6(2),e.Q6J("ngForOf",t.resultados),e.xp6(2),e.Q6J("disabled",t.buscar)("length",t.totalResultados)("pageIndex",t.page)("pageSize",t.limit)("showFirstLastButtons",!0)}},dependencies:[m.ez,m.sg,m.O5,m.uU,b.SJ,b.jA,b.kh,b.LW,w.si,v.Ps,v.Hw,g.ot,g.zs,g.lW,g.RK,h.lN,h.KE,h.qo,x.c,x.Nt,R.p9,J.Fk,l.u5,l.Fj,l.JJ,k.FA,P.LD,A.Tx,A.VK,A.OP,A.p6,q.TU,q.NW,f.rH,l.UX,l.oH,B.Cq],encapsulation:2})}return o})(),resolve:{data:(o,c)=>{let i="",n="1",t="";return o.paramMap.has("id")&&(i=o.paramMap.get("id")),o.queryParamMap.has("page")&&(n=o.queryParamMap.get("page")),o.queryParamMap.has("busqueda")&&(t=o.queryParamMap.get("busqueda")||""),""!==t?(0,e.f3M)(_).getAudienciasPorSesionBusqueda({palabraClave:t,comisionId:i},n):(0,e.f3M)(_).getSesionesPorComision(i,n)}}},{path:"sesion/:audiencia",component:_e,resolve:{audiencia:(o,c)=>{let i=o.paramMap.get("audiencia");return(0,e.f3M)(_).getDataAdienciaSesion(i)},transcripcion:(o,c)=>{let i=o.paramMap.get("audiencia")||"",n=o.queryParamMap.get("busqueda")||"";return""!==n?(0,e.f3M)(_).buscarEnAudiencia(i,{palabraClave:n},"1"):(0,e.f3M)(_).getTranscripcionAudiencia(i,"1")}}}]}}]);